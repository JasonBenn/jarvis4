{
  "name": "readwise-uploader",
  "version": "1.0.0",
  "type": "module",
  "scripts": {
    "reinstall": "pnpm -C extension/jarvis4-worldview-updater reinstall",
    "db": "sqlite3 \"$HOME/Library/Application Support/Cursor/User/globalStorage/jasonbenn.jarvis4-worldview-updater/readwise-highlights.db\"",
    "db:migrate": "pgrep -x Cursor && echo '❌ Error: Cursor is running. Please close Cursor before running migrations.' && exit 1 || pnpm run db < extension/jarvis4-worldview-updater/migrations/v1-single-table.sql && echo '✅ Migration complete'",
    "db:metadata": "pnpm run db \"SELECT * FROM metadata;\"",
    "db:highlights:count": "pnpm run db \"SELECT COUNT(*) FROM highlights;\"",
    "db:highlights:all": "pnpm run db \"SELECT * FROM highlights;\"",
    "db:highlights:changed": "pnpm run db \"SELECT * FROM highlights WHERE status <> 'NEW';\"",
    "upload:run": "tsx scripts/upload-to-readwise.ts",
    "cursor-worldview:link": "ln -sf \"$HOME/code/jarvis4/prompts/worldview.md\" \"$HOME/.cursor/commands/worldview.md\" && echo '✅ Cursor worldview prompt symlinked!'",
    "open-worldview:run": "bash scripts/open-worldview.sh",
    "open-worldview:link": "ln -sf \"$HOME/code/jarvis4/scripts/open-worldview.sh\" \"$HOME/raycast-scripts/jarvis-worldview.sh\" && echo '✅ Raycast script symlinked!'",
    "recent-changes:run": "node scripts/recent-changes.js",
    "recent-changes:link": "ln -sf \"$HOME/code/jarvis4/scripts/recent-changes.js\" \"$HOME/notes/Neighborhood Notes/.git/hooks/pre-commit\" && echo '✅ Git hook symlinked!'"
  },
  "devDependencies": {
    "@types/node": "^22.10.2",
    "@types/sql.js": "^1.4.9",
    "tsx": "^4.19.2",
    "typescript": "^5.7.2"
  },
  "dependencies": {
    "dotenv": "^16.4.7",
    "marked": "^15.0.4",
    "openai": "^6.1.0",
    "sql.js": "^1.13.0"
  }
}
